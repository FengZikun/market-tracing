webpackJsonp([7],{YJtq:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n.codeImg[data-v-61f4cfac]{\n\tmargin: auto;\n\twidth: 200px;\n\theight: 200px;\n}\n",""])},dQ7S:function(n,e,t){var a=t("YJtq");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("781d5c62",a,!0)},fiGu:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("woOf"),o=t.n(a),i=t("1yIk"),r=t("MJLE"),l=t.n(r),s={data:function(){return{qrcode:null}},props:["code"],methods:{init:function(){var n=document.getElementsByClassName("codeImg")[0];console.log(n),n.innerHTML="",this.qrcode=new l.a(n,{text:"https://project.ym-b.top/tracingSys/t/"+this.code,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff"})}},mounted:function(){this.init()}},c={render:function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"codeImg"})},staticRenderFns:[]};var u=t("VU/8")(s,c,!1,function(n){t("dQ7S")},"data-v-61f4cfac",null).exports,d=t("zL8q"),p=t("0zhW"),f={data:function(){return{tableData:null,searchKey:null,searchValue:null,totalRecords:null,formLabelWidth:"120px",form:null,dialogFormVisible:!1,QRdialogVisible:!1,code:null,column:[{prop:"codeId",label:"溯源码Id"},{prop:"marketName",label:"市场名称"},{prop:"weight",label:"批次总重量"},{prop:"tracingCode",label:"溯源码短码"},{prop:"goodId",label:"对应进货单id"},{prop:"vendorName",label:"卖方名称"},{prop:"WS_SUPPLIER_NAME",label:"供货商名称"},{prop:"goodsName",label:"商品名称"},{prop:"areaOriginName",label:"产地名称"},{prop:"buyer",label:"卖方名称"},{prop:"reportTime",label:"入场时间"}]}},components:{stable:i.a,qrcode:u},methods:{init:function(n){var e=this;Object(p.e)(n).then(function(n){console.log(n),e.tableData=n.result.data,e.totalRecords=n.totalRecords,e.currentPage=n.currentPage})},addInfo:function(){this.$router.push({path:"/addStorage/addStorage"})},pageChange:function(n){var e={currentPage:n,index:10*(n-1)};this.init(e)},updateData:function(n){this.dialogFormVisible=!0,this.form=n,console.log(this.form)},updateDataConfirm:function(){var n=this,e={token:this.$store.getters.token};delete(e=o()(e,this.form)).storageCode,delete e.isDelete,updateMarketStorage(e).then(function(e){console.log(e),n.dialogFormVisible=!1,n.init()})},deletInfo:function(n){var e=this,t={token:this.$store.getters.token,storageId:n};deleteMarketStorageById(t).then(function(n){console.log(n),e.init()})},checkCode:function(n){this.QRdialogVisible=!0,this.code=n},clock:function(n){var e=this,t={token:this.$store.getters.token,storageId:n};updateMarketStorageStatus(t).then(function(n){e.init({currentPage:e.currentPage})})},search:function(){if(null!==this.searchprop)if(null!==this.searchKey){var n={currentPage:1,index:0,key:this.searchValue,value:this.searchKey};this.init(n)}else Object(d.Message)({message:"请输入搜索关键词",type:"warning",duration:2e3});else Object(d.Message)({message:"请选择搜索类型",type:"warning",duration:2e3})}},created:function(){this.init()}},h={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("el-dialog",{attrs:{title:"溯源码",visible:n.QRdialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){n.QRdialogVisible=e}}},[t("qrcode",{attrs:{code:n.code}}),n._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.QRdialogVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){n.QRdialogVisible=!1}}},[n._v("确 定")])],1)],1),n._v(" "),t("div",{staticClass:"search"},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:n.searchValue,callback:function(e){n.searchValue=e},expression:"searchValue"}},n._l(n.column,function(n){return t("el-option",{key:n.prop,attrs:{label:n.label,value:n.prop}})})),n._v(" "),t("el-input",{staticClass:"searchInput",model:{value:n.searchKey,callback:function(e){n.searchKey=e},expression:"searchKey"}}),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.search}},[n._v("查询")])],1),n._v(" "),t("stable",{attrs:{column:n.column,tableData:n.tableData}},[t("el-table-column",{attrs:{slot:"operation",align:"center",width:"180",label:"操作",fixed:"right"},slot:"operation",scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){n.checkCode(e.row.tracingCode)}}},[n._v("查看溯源码")])]}}])})],1),n._v(" "),t("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:n.totalRecords},on:{"current-change":n.pageChange}})],1)},staticRenderFns:[]};var g=t("VU/8")(f,h,!1,function(n){t("yix0")},"data-v-22e65338",null);e.default=g.exports},frDL:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},yix0:function(n,e,t){var a=t("frDL");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("e2fd9998",a,!0)}});
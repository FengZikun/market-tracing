webpackJsonp([3],{"9bBU":function(e,t,a){a("mClu");var r=a("FeBl").Object;e.exports=function(e,t,a){return r.defineProperty(e,t,a)}},C4MV:function(e,t,a){e.exports={default:a("9bBU"),__esModule:!0}},GGbB:function(e,t,a){var r=a("bq06");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("6d56d90d",r,!0)},Mhet:function(e,t,a){"use strict";t.a=function(e){return Object(r.a)({url:"/POST/user/addTracingSysUser",method:"post",params:e})},t.b=function(e){return Object(r.a)({url:"/POST/user/findTracingSysUserByPage",method:"post",params:e})},t.d=function(e){return Object(r.a)({url:"/POST/user/managerDeleteTracingSysUserById",method:"post",params:e})},t.c=function(e){return Object(r.a)({url:"/POST/user/managerChangeTracingSysUserRightById",method:"post",params:e})};var r=a("vLgD")},QlFb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOdI"),l=a.n(r),s=a("Mhet"),n=a("zL8q"),o={data:function(){var e;return e={userList:null,currentPage:1,totalRecords:null,dialogFormVisible:!1,userId:null,form:{userType:null},filters1:[{text:"系统管理员",value:1},{text:"超市收货员",value:2},{text:"仓库管理员",value:3}],index:0,pageSize:10},l()(e,"totalRecords",null),l()(e,"searchValue",null),l()(e,"searchKey",null),l()(e,"options",[{value:"userId",label:"ID"},{value:"userName",label:"用户名"},{value:"userType",label:"账号类型"},{value:"userPhone",label:"手机号"},{value:"innerNum",label:"员工编号"},{value:"isDelete",label:"状态"},{value:"createTime",label:"创建时间"}]),l()(e,"typeOptions",[{label:"系统管理员",value:1},{label:"超市收货员",value:2},{label:"仓库管理员",value:3}]),l()(e,"formLabelWidth","120px"),e},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;return 1===t.isDelete?"warning-row":""},init:function(){var e=this,t={currentPage:this.currentPage,index:this.index,key:this.searchValue,value:this.searchKey};Object(s.b)(t).then(function(t){e.userList=t.result.data,e.totalRecords=t.totalRecords,e.pageSize=t.pageSize,e.currentPage=t.currentPage})},addUser:function(){this.$router.push({path:"SysUser"})},pageChange:function(e){this.currentPage=e,this.index=10*(this.currentPage-1),this.init()},search:function(){null!==this.searchValue?null!==this.searchKey?this.init(1,this.searchValue,this.searchKey):Object(n.Message)({message:"请输入搜索关键词",type:"warning",duration:2e3}):Object(n.Message)({message:"请选择搜索类型",type:"warning",duration:2e3})},deletUser:function(e){var t=this,a={token:this.$store.getters.token,userId:e};Object(s.d)(a).then(function(e){console.log(e),t.init()})},changeType:function(){var e=this;if(null!==this.form.userType){var t={token:this.$store.getters.token,userId:this.userId,userType:this.form.userType,isRoot:1};Object(s.c)(t).then(function(t){console.log(t),e.dialogFormVisible=!1,e.userId=null,e.init()})}else Object(n.Message)({message:"请选择账号类型",type:"warning",duration:2e3})}},created:function(){this.init()}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-dialog",{attrs:{title:"授权",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"账号类型","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.changeType}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"search"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("注册新账号")]),e._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{staticClass:"searchInput",model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("el-table",{staticStyle:{"margin-top":"20px"},attrs:{border:"",data:e.userList,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"userId",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userType",label:"账号类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.userType?a("el-tag",{attrs:{type:"success"}},[e._v("系统管理员")]):e._e(),e._v(" "),2===t.row.userType?a("el-tag",{attrs:{type:"warning"}},[e._v("超市收货员")]):e._e(),e._v(" "),3===t.row.userType?a("el-tag",[e._v("仓库管理员")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userPhone",label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.userPhone?a("span",[e._v("无")]):a("span",[e._v(e._s(t.row.userPhone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"innerNum",label:"员工编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isDelete",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isDelete?a("el-tag",{attrs:{type:"warning"}},[e._v("已锁定")]):a("el-tag",[e._v("未锁定")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){e.deletUser(t.row.userId)}}},[e._v("删除")]),e._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){e.dialogFormVisible=!0,e.userId=t.row.userId,e.form.userType=t.row.userType}}},[e._v("授权")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:e.totalRecords},on:{"current-change":e.pageChange}})],1)},staticRenderFns:[]};var i=a("VU/8")(o,u,!1,function(e){a("GGbB")},"data-v-20275690",null);t.default=i.exports},bOdI:function(e,t,a){"use strict";t.__esModule=!0;var r,l=a("C4MV"),s=(r=l)&&r.__esModule?r:{default:r};t.default=function(e,t,a){return t in e?(0,s.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},bq06:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.warning-row[data-v-20275690]{\r\n\tbackground: #f0f9eb;\n}\n.search[data-v-20275690]{\r\n\tmargin: 20px 0;\n}\n.searchInput[data-v-20275690]{\r\n\twidth: 180px;\n}\r\n",""])},mClu:function(e,t,a){var r=a("kM2E");r(r.S+r.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})}});
webpackJsonp([21],{f69W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("woOf"),o=a.n(l),r=a("zL8q"),i=a("1yIk"),n=a("0zhW"),s={data:function(){return{tableData:null,searchKey:null,searchValue:null,totalRecords:null,formLabelWidth:"120px",form:null,dialogFormVisible:!1,column:[{prop:"id",label:"进货ID"},{prop:"tranId",label:"交易凭证"},{prop:"quarantineAnimalProductId",label:"检验合格证号"},{prop:"bachId",label:"进货批次号"},{prop:"goodsCode",label:"商品编码"},{prop:"goodsName",label:"商品名称"},{prop:"weight",label:"重量"},{prop:"price",label:"单价"},{prop:"areaOriginId",label:"产地编码"},{prop:"areaOriginName",label:"产地名称"},{prop:"marketCode",label:"批发市场编码"},{prop:"marketName",label:"批发市场名称"},{prop:"WS_SUPPLIER_ID",label:"供货批发市场或屠宰企业编码"},{prop:"WS_SUPPLIER_NAME",label:"供货批发市场或屠宰企业名称"},{prop:"saleTranId",label:"零售凭证号"},{prop:"categoryId",label:"品类"},{prop:"nodeType",label:"节点"},{prop:"infoUpdateDate",label:"信息更新日期"},{prop:"reportTime",label:"信息传送时间"}]}},components:{stable:i.a},methods:{init:function(e){var t=this;Object(n.d)(e).then(function(e){console.log(e),t.tableData=e.result.data,t.totalRecords=e.totalRecords,t.currentPage=e.currentPage})},pageChange:function(e){var t={currentPage:e,index:10*(e-1)};this.init(t)},deleteInfo:function(e){var t=this;Object(n.c)(e).then(function(e){console.log(e),t.init()})},updateData:function(e){this.dialogFormVisible=!0,this.form=e,console.log(this.form)},updateDataConfirm:function(){var e=this,t={token:this.$store.getters.token};delete(t=o()(t,this.form)).infoUpdateDate,delete t.reportTime,Object(n.f)(t).then(function(t){console.log(t),e.dialogFormVisible=!1,e.init()})},addInfo:function(){this.$router.push({path:"/addBuyer/addBuyer"})},tracingCode:function(e){Object(n.b)({inInfoId:e}).then(function(e){Object(r.Message)({message:e.msg,duration:2e3})})},search:function(){if(null!==this.searchprop)if(null!==this.searchKey){var e={currentPage:1,index:0,key:this.searchValue,value:this.searchKey};this.init(e)}else Object(r.Message)({message:"请输入搜索关键词",type:"warning",duration:2e3});else Object(r.Message)({message:"请选择搜索类型",type:"warning",duration:2e3})}},created:function(){this.init()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e.dialogFormVisible?a("el-dialog",{attrs:{title:"编辑",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"进货id","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"进货批次号","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.bachId,callback:function(t){e.$set(e.form,"bachId",t)},expression:"form.bachId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品编码","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.goodsCode,callback:function(t){e.$set(e.form,"goodsCode",t)},expression:"form.goodsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.goodsName,callback:function(t){e.$set(e.form,"goodsName",t)},expression:"form.goodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重量","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单价","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产地编码","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.areaOriginId,callback:function(t){e.$set(e.form,"areaOriginId",t)},expression:"form.areaOriginId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产地名称","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.areaOriginName,callback:function(t){e.$set(e.form,"areaOriginName",t)},expression:"form.areaOriginName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批发市场编码","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.marketCode,callback:function(t){e.$set(e.form,"marketCode",t)},expression:"form.marketCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批发市场名称","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.marketName,callback:function(t){e.$set(e.form,"marketName",t)},expression:"form.marketName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供货批发市场或屠宰企业编码","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.WS_SUPPLIER_ID,callback:function(t){e.$set(e.form,"WS_SUPPLIER_ID",t)},expression:"form.WS_SUPPLIER_ID"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供货批发市场或屠宰企业名称","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.WS_SUPPLIER_NAME,callback:function(t){e.$set(e.form,"WS_SUPPLIER_NAME",t)},expression:"form.WS_SUPPLIER_NAME"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"零售凭证号","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.saleTranId,callback:function(t){e.$set(e.form,"saleTranId",t)},expression:"form.saleTranId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"品类","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.categoryId,callback:function(t){e.$set(e.form,"categoryId",t)},expression:"form.categoryId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.nodeType,callback:function(t){e.$set(e.form,"nodeType",t)},expression:"form.nodeType"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateDataConfirm}},[e._v("确 定")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"search"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addInfo}},[e._v("新建进货单")]),e._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},e._l(e.column,function(e){return a("el-option",{key:e.prop,attrs:{label:e.label,value:e.prop}})})),e._v(" "),a("el-input",{staticClass:"searchInput",model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("stable",{attrs:{column:e.column,tableData:e.tableData}},[a("el-table-column",{attrs:{slot:"operation",align:"center",width:"280",label:"操作",fixed:"right"},slot:"operation",scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.updateData(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.tracingCode(t.row.id)}}},[e._v("生成二维码")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteInfo(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:e.totalRecords},on:{"current-change":e.pageChange}})],1)},staticRenderFns:[]};var m=a("VU/8")(s,c,!1,function(e){a("sCjD")},"data-v-05e3b6dc",null);t.default=m.exports},sCjD:function(e,t,a){var l=a("wHX8");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("c708fd3c",l,!0)},wHX8:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.search[data-v-05e3b6dc]{\r\n\tmargin: 20px 0;\n}\n.searchInput[data-v-05e3b6dc]{\r\n\twidth: 180px;\n}\r\n",""])}});
webpackJsonp([4],{"2vQT":function(n,e,t){"use strict";e.a=function(n){return Object(o.a)({url:"/POST/MarketStorage/addMarketStorage",methods:"post",params:n})},e.d=function(n){return Object(o.a)({url:"/POST/MarketStorage/updateMarketStorage",methods:"post",params:n})},e.b=function(n){return Object(o.a)({url:"/POST/MarketStorage/deleteMarketStorageById",methods:"post",params:n})},e.c=function(n){return Object(o.a)({url:"/POST/MarketStorage/findMarketStorageByPage",methods:"post",params:n})},e.e=function(n){return Object(o.a)({url:"/POST/MarketStorage/updateMarketStorageStatus",methods:"post",params:n})};var o=t("vLgD")},JqQj:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("woOf"),a=t.n(o),r=t("1yIk"),l=t("MJLE"),i=t.n(l),s={data:function(){return{qrcode:null}},props:["code"],methods:{init:function(){var n=document.getElementsByClassName("codeImg")[0];console.log(n),n.innerHTML="",this.qrcode=new i.a(n,{text:"https://project.ym-b.top/tracingSys/t/"+this.code,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff"})}},mounted:function(){this.init()}},c={render:function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"codeImg"})},staticRenderFns:[]};var u=t("VU/8")(s,c,!1,function(n){t("loZC")},"data-v-61f4cfac",null).exports,d=t("zL8q"),f=t("2vQT"),m={data:function(){return{tableData:null,searchKey:null,searchValue:null,totalRecords:null,formLabelWidth:"120px",form:null,dialogFormVisible:!1,QRdialogVisible:!1,code:null,column:[{prop:"storageId",label:"仓库id"},{prop:"storageNum",label:"超市自定义仓库编号"},{prop:"storageName",label:"仓库名"},{prop:"marketLinkNum",label:"对应超市id"},{prop:"marketName",label:"超市名"},{prop:"marketCode",label:"对应超市的二维码短码"},{prop:"storageCode",label:"仓库短码"},{prop:"isDelete",label:"状态"}]}},components:{stable:r.a,qrcode:u},methods:{init:function(n){var e=this;Object(f.c)(n).then(function(n){console.log(n),e.tableData=n.result.data,e.totalRecords=n.totalRecords,e.currentPage=n.currentPage})},addInfo:function(){this.$router.push({path:"/addStorage/addStorage"})},pageChange:function(n){var e={currentPage:n,index:10*(n-1)};this.init(e)},updateData:function(n){this.dialogFormVisible=!0,this.form=n,console.log(this.form)},updateDataConfirm:function(){var n=this,e={token:this.$store.getters.token};delete(e=a()(e,this.form)).storageCode,delete e.isDelete,Object(f.d)(e).then(function(e){console.log(e),n.dialogFormVisible=!1,n.init()})},deletInfo:function(n){var e=this,t={token:this.$store.getters.token,storageId:n};Object(f.b)(t).then(function(n){console.log(n),e.init()})},addStoreKeep:function(n){this.QRdialogVisible=!0,this.code=n},clock:function(n){var e=this,t={token:this.$store.getters.token,storageId:n};Object(f.e)(t).then(function(n){e.init({currentPage:e.currentPage})})},search:function(){if(null!==this.searchprop)if(null!==this.searchKey){var n={currentPage:1,index:0,key:this.searchValue,value:this.searchKey};this.init(n)}else Object(d.Message)({message:"请输入搜索关键词",type:"warning",duration:2e3});else Object(d.Message)({message:"请选择搜索类型",type:"warning",duration:2e3})}},created:function(){this.init()}},p={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("el-dialog",{attrs:{title:"授权码",visible:n.QRdialogVisible,center:"",width:"30%"},on:{"update:visible":function(e){n.QRdialogVisible=e}}},[t("qrcode",{attrs:{code:n.code}}),n._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.QRdialogVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){n.QRdialogVisible=!1}}},[n._v("确 定")])],1)],1),n._v(" "),n.dialogFormVisible?t("el-dialog",{attrs:{title:"编辑",visible:n.dialogFormVisible},on:{"update:visible":function(e){n.dialogFormVisible=e}}},[t("el-form",{ref:"form",attrs:{model:n.form}},[t("el-form-item",{attrs:{label:"对应超市的二维码短码","label-width":n.formLabelWidth}},[t("el-input",{model:{value:n.form.marketCode,callback:function(e){n.$set(n.form,"marketCode",e)},expression:"form.marketCode"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"对应超市id","label-width":n.formLabelWidth}},[t("el-input",{model:{value:n.form.marketLinkNum,callback:function(e){n.$set(n.form,"marketLinkNum",e)},expression:"form.marketLinkNum"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"超市名","label-width":n.formLabelWidth}},[t("el-input",{model:{value:n.form.marketName,callback:function(e){n.$set(n.form,"marketName",e)},expression:"form.marketName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"仓库名","label-width":n.formLabelWidth}},[t("el-input",{model:{value:n.form.storageName,callback:function(e){n.$set(n.form,"storageName",e)},expression:"form.storageName"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"超市自定义仓库编号","label-width":n.formLabelWidth}},[t("el-input",{model:{value:n.form.storageNum,callback:function(e){n.$set(n.form,"storageNum",e)},expression:"form.storageNum"}})],1)],1),n._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.dialogFormVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.updateDataConfirm}},[n._v("确 定")])],1)],1):n._e(),n._v(" "),t("div",{staticClass:"search"},[t("el-button",{attrs:{type:"primary"},on:{click:n.addInfo}},[n._v("添加仓库信息")]),n._v(" "),t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:n.searchValue,callback:function(e){n.searchValue=e},expression:"searchValue"}},n._l(n.column,function(n){return t("el-option",{key:n.prop,attrs:{label:n.label,value:n.prop}})})),n._v(" "),t("el-input",{staticClass:"searchInput",model:{value:n.searchKey,callback:function(e){n.searchKey=e},expression:"searchKey"}}),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.search}},[n._v("查询")])],1),n._v(" "),t("stable",{attrs:{column:n.column,tableData:n.tableData}},[t("el-table-column",{attrs:{slot:"operation",align:"center",width:"360",label:"操作",fixed:"right"},slot:"operation",scopedSlots:n._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){n.updateData(e.row)}}},[n._v("编辑")]),n._v(" "),0===e.row.isDelete?t("el-button",{attrs:{type:"mini"},on:{click:function(t){n.clock(e.row.storageId)}}},[n._v("锁定")]):t("el-button",{attrs:{type:"mini"},on:{click:function(t){n.clock(e.row.storageId)}}},[n._v("解锁")]),n._v(" "),0===e.row.isDelete?t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){n.addStoreKeep(e.row.storageCode)}}},[n._v("新增管理员")]):n._e(),n._v(" "),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){n.deletInfo(e.row.storageId)}}},[n._v("删除")])]}}])})],1),n._v(" "),t("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:n.totalRecords},on:{"current-change":n.pageChange}})],1)},staticRenderFns:[]};var g=t("VU/8")(m,p,!1,function(n){t("n/MC")},"data-v-0f2fdc1b",null);e.default=g.exports},loZC:function(n,e,t){var o=t("uV/H");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("781d5c62",o,!0)},"n/MC":function(n,e,t){var o=t("xlQk");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("0c6d48ee",o,!0)},"uV/H":function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n.codeImg[data-v-61f4cfac]{\n\tmargin: auto;\n\twidth: 200px;\n\theight: 200px;\n}\n",""])},xlQk:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});